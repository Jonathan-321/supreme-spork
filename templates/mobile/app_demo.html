{% extends 'base.html' %}

{% block title %}AgriFinance - Mobile App Demo{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0">Mobile App Prototype</h2>
</div>

<div class="row">
    <div class="col-lg-4 mb-4">
        <div class="section-card h-100">
            <div class="section-header">
                <h3>App Features</h3>
            </div>
            <div class="section-content">
                <div class="app-features-list">
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-mobile-alt"></i>
                        </div>
                        <div class="feature-content">
                            <h5>Offline Functionality</h5>
                            <p>Access critical farm data and loan information even when internet connection is unavailable.</p>
                        </div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <div class="feature-content">
                            <h5>Credit Score Tracking</h5>
                            <p>Track credit score changes over time and receive personalized recommendations for improvement.</p>
                        </div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div class="feature-content">
                            <h5>Real-time Alerts</h5>
                            <p>Get push notifications for critical weather events, payment due dates, and personalized farming advice.</p>
                        </div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-map-marked-alt"></i>
                        </div>
                        <div class="feature-content">
                            <h5>Farm Mapping</h5>
                            <p>View satellite imagery, NDVI data, and field boundaries with GPS mapping tools.</p>
                        </div>
                    </div>
                    
                    <div class="feature-item">
                        <div class="feature-icon">
                            <i class="fas fa-hand-holding-usd"></i>
                        </div>
                        <div class="feature-content">
                            <h5>Mobile Payments</h5>
                            <p>Make loan payments directly through the app via mobile money or other local payment options.</p>
                        </div>
                    </div>
                </div>
                
                <div class="app-download-section mt-4 p-3 border rounded">
                    <h5 class="mb-3">Download the App</h5>
                    <div class="row">
                        <div class="col-6">
                            <a href="#" class="btn btn-dark w-100">
                                <i class="fab fa-google-play me-2"></i> Google Play
                            </a>
                        </div>
                        <div class="col-6">
                            <a href="#" class="btn btn-dark w-100">
                                <i class="fab fa-apple me-2"></i> App Store
                            </a>
                        </div>
                    </div>
                    <div class="text-center mt-3">
                        <button class="btn btn-link" id="qrCodeButton">
                            <i class="fas fa-qrcode me-2"></i> Show QR Code
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="col-lg-8 mb-4">
        <div class="section-card h-100">
            <div class="section-header">
                <h3>Interactive Demo</h3>
                <div class="device-switcher">
                    <button class="btn btn-sm btn-outline-light active" data-device="phone">
                        <i class="fas fa-mobile-alt me-1"></i> Phone
                    </button>
                    <button class="btn btn-sm btn-outline-light" data-device="tablet">
                        <i class="fas fa-tablet-alt me-1"></i> Tablet
                    </button>
                </div>
            </div>
            <div class="section-content">
                <div class="app-demo-container">
                    <div class="device-frame phone">
                        <div class="device-screen">
                            <div class="mobile-app">
                                <div class="app-screen" id="app-home-screen">
                                    <!-- App Header -->
                                    <div class="app-header">
                                        <div class="farmer-profile">
                                            <div class="farmer-avatar">
                                                <i class="fas fa-user"></i>
                                            </div>
                                            <div class="farmer-info">
                                                <h6>Hello, John</h6>
                                                <span class="farmer-location">Eastern Region, Ghana</span>
                                            </div>
                                        </div>
                                        <div class="app-actions">
                                            <button class="app-action-button">
                                                <i class="fas fa-bell"></i>
                                                <span class="notification-badge">2</span>
                                            </button>
                                            <button class="app-action-button">
                                                <i class="fas fa-cog"></i>
                                            </button>
                                        </div>
                                    </div>
                                    
                                    <!-- Credit Score Card -->
                                    <div class="app-credit-score-card">
                                        <div class="score-header">
                                            <h6>Your Credit Score</h6>
                                            <span class="trend up">
                                                <i class="fas fa-arrow-up"></i> +5
                                            </span>
                                        </div>
                                        <div class="score-display">
                                            <div class="score-circle">
                                                <svg width="120" height="120" viewBox="0 0 120 120">
                                                    <circle cx="60" cy="60" r="54" fill="none" stroke="#2a2a2a" stroke-width="6" />
                                                    <circle cx="60" cy="60" r="54" fill="none" stroke="#198754" stroke-width="6" 
                                                        stroke-dasharray="339.3" stroke-dashoffset="84.8" transform="rotate(-90 60 60)" />
                                                    <text x="60" y="65" text-anchor="middle" fill="#fff" font-size="26">75</text>
                                                </svg>
                                            </div>
                                            <div class="score-details">
                                                <div class="score-label">Good</div>
                                                <button class="app-button small">View Details</button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Quick Actions -->
                                    <div class="app-quick-actions">
                                        <button class="quick-action-button" id="view-loans-btn">
                                            <div class="action-icon loans-icon">
                                                <i class="fas fa-hand-holding-usd"></i>
                                            </div>
                                            <span>My Loans</span>
                                        </button>
                                        <button class="quick-action-button" id="view-farms-btn">
                                            <div class="action-icon farms-icon">
                                                <i class="fas fa-tractor"></i>
                                            </div>
                                            <span>My Farms</span>
                                        </button>
                                        <button class="quick-action-button" id="view-weather-btn">
                                            <div class="action-icon weather-icon">
                                                <i class="fas fa-cloud-sun"></i>
                                            </div>
                                            <span>Weather</span>
                                        </button>
                                        <button class="quick-action-button" id="view-markets-btn">
                                            <div class="action-icon markets-icon">
                                                <i class="fas fa-store"></i>
                                            </div>
                                            <span>Markets</span>
                                        </button>
                                    </div>
                                    
                                    <!-- Loan Summary -->
                                    <div class="app-section">
                                        <div class="section-title">
                                            <h6>Loan Summary</h6>
                                            <a href="#" class="section-link">View All</a>
                                        </div>
                                        <div class="loan-summary-card">
                                            <div class="loan-summary-header">
                                                <div class="loan-info">
                                                    <h6>Farm Equipment Loan</h6>
                                                    <span class="loan-id">L-2025-7841</span>
                                                </div>
                                                <div class="loan-amount">$1,200</div>
                                            </div>
                                            <div class="loan-progress-container">
                                                <div class="progress loan-progress">
                                                    <div class="progress-bar bg-success" role="progressbar" style="width: 45%"></div>
                                                </div>
                                                <div class="loan-progress-labels">
                                                    <span>45% Repaid</span>
                                                    <span>$660 Remaining</span>
                                                </div>
                                            </div>
                                            <div class="loan-next-payment">
                                                <div class="payment-label">Next Payment:</div>
                                                <div class="payment-details">
                                                    <span class="payment-amount">$120</span> 
                                                    <span class="payment-date">Due May 15, 2025</span>
                                                </div>
                                            </div>
                                            <button class="app-button full-width">Make Payment</button>
                                        </div>
                                    </div>
                                    
                                    <!-- Weather Alert -->
                                    <div class="app-section">
                                        <div class="section-title">
                                            <h6>Weather Alerts</h6>
                                            <a href="#" class="section-link">View All</a>
                                        </div>
                                        <div class="weather-alert-card">
                                            <div class="alert-priority high">High Priority</div>
                                            <div class="alert-content">
                                                <h6>Drought Warning</h6>
                                                <p>Severe drought conditions expected to continue for the next 14 days. Consider irrigation and water conservation measures.</p>
                                            </div>
                                            <button class="app-button outline full-width">View Recommendations</button>
                                        </div>
                                    </div>
                                    
                                    <!-- App Navigation -->
                                    <div class="app-navigation">
                                        <button class="nav-button active">
                                            <i class="fas fa-home"></i>
                                            <span>Home</span>
                                        </button>
                                        <button class="nav-button">
                                            <i class="fas fa-seedling"></i>
                                            <span>Crops</span>
                                        </button>
                                        <button class="nav-button">
                                            <i class="fas fa-chart-line"></i>
                                            <span>Analytics</span>
                                        </button>
                                        <button class="nav-button">
                                            <i class="fas fa-comment-alt"></i>
                                            <span>Support</span>
                                        </button>
                                    </div>
                                </div>
                                
                                <!-- Weather Screen -->
                                <div class="app-screen" id="app-weather-screen" style="display: none;">
                                    <!-- Back Navigation -->
                                    <div class="app-header">
                                        <button class="back-button" id="weather-back-btn">
                                            <i class="fas fa-arrow-left"></i>
                                        </button>
                                        <h6 class="screen-title">Weather Forecast</h6>
                                        <button class="app-action-button">
                                            <i class="fas fa-sync-alt"></i>
                                        </button>
                                    </div>
                                    
                                    <!-- Weather Overview -->
                                    <div class="weather-overview">
                                        <div class="current-weather">
                                            <div class="weather-icon">
                                                <i class="fas fa-sun"></i>
                                            </div>
                                            <div class="weather-temp">32°C</div>
                                            <div class="weather-desc">Sunny</div>
                                            <div class="weather-location">Ashanti Region, Ghana</div>
                                        </div>
                                        <div class="weather-details">
                                            <div class="weather-detail-item">
                                                <span class="detail-label">
                                                    <i class="fas fa-wind"></i> Wind
                                                </span>
                                                <span class="detail-value">8 km/h</span>
                                            </div>
                                            <div class="weather-detail-item">
                                                <span class="detail-label">
                                                    <i class="fas fa-tint"></i> Humidity
                                                </span>
                                                <span class="detail-value">65%</span>
                                            </div>
                                            <div class="weather-detail-item">
                                                <span class="detail-label">
                                                    <i class="fas fa-cloud-rain"></i> Precip.
                                                </span>
                                                <span class="detail-value">0 mm</span>
                                            </div>
                                            <div class="weather-detail-item">
                                                <span class="detail-label">
                                                    <i class="fas fa-eye"></i> UV Index
                                                </span>
                                                <span class="detail-value">High</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Weather Forecast -->
                                    <div class="weather-forecast">
                                        <div class="forecast-header">
                                            <h6>7-Day Forecast</h6>
                                        </div>
                                        <div class="forecast-days">
                                            <div class="forecast-day">
                                                <span class="day-name">Mon</span>
                                                <span class="day-icon"><i class="fas fa-sun"></i></span>
                                                <span class="day-temp">32°</span>
                                            </div>
                                            <div class="forecast-day">
                                                <span class="day-name">Tue</span>
                                                <span class="day-icon"><i class="fas fa-sun"></i></span>
                                                <span class="day-temp">33°</span>
                                            </div>
                                            <div class="forecast-day">
                                                <span class="day-name">Wed</span>
                                                <span class="day-icon"><i class="fas fa-cloud-sun"></i></span>
                                                <span class="day-temp">31°</span>
                                            </div>
                                            <div class="forecast-day">
                                                <span class="day-name">Thu</span>
                                                <span class="day-icon"><i class="fas fa-cloud"></i></span>
                                                <span class="day-temp">29°</span>
                                            </div>
                                            <div class="forecast-day">
                                                <span class="day-name">Fri</span>
                                                <span class="day-icon"><i class="fas fa-cloud-sun-rain"></i></span>
                                                <span class="day-temp">28°</span>
                                            </div>
                                            <div class="forecast-day">
                                                <span class="day-name">Sat</span>
                                                <span class="day-icon"><i class="fas fa-cloud-sun"></i></span>
                                                <span class="day-temp">30°</span>
                                            </div>
                                            <div class="forecast-day">
                                                <span class="day-name">Sun</span>
                                                <span class="day-icon"><i class="fas fa-sun"></i></span>
                                                <span class="day-temp">31°</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- Climate Risk Summary -->
                                    <div class="climate-risk-summary">
                                        <div class="climate-risk-header">
                                            <h6>Climate Risk Assessment</h6>
                                        </div>
                                        <div class="climate-risk-content">
                                            <div class="risk-indicator medium">
                                                <div class="risk-icon">
                                                    <i class="fas fa-exclamation-triangle"></i>
                                                </div>
                                                <div class="risk-details">
                                                    <span class="risk-level">Medium Risk</span>
                                                    <span class="risk-desc">Drought conditions likely</span>
                                                </div>
                                            </div>
                                            <p class="risk-explanation">Current conditions indicate a 45% chance of continued drought over the next 3 months, which may impact crop yields without proper management.</p>
                                            <button class="app-button full-width">View Risk Mitigation</button>
                                        </div>
                                    </div>
                                    
                                    <!-- App Navigation -->
                                    <div class="app-navigation">
                                        <button class="nav-button" id="home-nav-btn">
                                            <i class="fas fa-home"></i>
                                            <span>Home</span>
                                        </button>
                                        <button class="nav-button">
                                            <i class="fas fa-seedling"></i>
                                            <span>Crops</span>
                                        </button>
                                        <button class="nav-button">
                                            <i class="fas fa-chart-line"></i>
                                            <span>Analytics</span>
                                        </button>
                                        <button class="nav-button">
                                            <i class="fas fa-comment-alt"></i>
                                            <span>Support</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- QR Code Modal -->
<div class="modal fade" id="qrCodeModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Download the App</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body text-center">
                <div class="qr-code-container mb-3">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=https://agrifinance.io/app" alt="QR Code" class="img-fluid">
                </div>
                <p>Scan this QR code with your phone's camera to download the AgriFinance mobile app.</p>
                <div class="app-store-buttons mt-3">
                    <a href="#" class="btn btn-dark me-2">
                        <i class="fab fa-google-play me-2"></i> Google Play
                    </a>
                    <a href="#" class="btn btn-dark">
                        <i class="fab fa-apple me-2"></i> App Store
                    </a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    /* App Features List */
    .app-features-list {
        display: flex;
        flex-direction: column;
        gap: 20px;
    }
    
    .feature-item {
        display: flex;
        gap: 15px;
    }
    
    .feature-icon {
        font-size: 24px;
        color: #0dcaf0;
        opacity: 0.8;
    }
    
    .feature-content h5 {
        margin-bottom: 5px;
        font-size: 16px;
    }
    
    .feature-content p {
        font-size: 14px;
        color: rgba(255, 255, 255, 0.7);
        margin: 0;
    }
    
    /* Device Switcher */
    .device-switcher {
        display: flex;
        gap: 10px;
    }
    
    /* App Demo Container */
    .app-demo-container {
        display: flex;
        justify-content: center;
        margin-top: 20px;
    }
    
    /* Mobile Device Frame */
    .device-frame {
        background-color: #2a2a2a;
        border-radius: 36px;
        box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.05),
                    0 20px 40px rgba(0, 0, 0, 0.3);
        padding: 10px;
        position: relative;
        transition: all 0.3s ease;
    }
    
    .device-frame.phone {
        width: 300px;
        height: 630px;
    }
    
    .device-frame.tablet {
        width: 500px;
        height: 700px;
    }
    
    .device-screen {
        position: relative;
        overflow: hidden;
        background-color: #121212;
        width: 100%;
        height: 100%;
        border-radius: 28px;
    }
    
    /* Mobile App UI */
    .mobile-app {
        position: relative;
        width: 100%;
        height: 100%;
        background-color: #121212;
        color: white;
        overflow-y: auto;
        overflow-x: hidden;
    }
    
    .app-screen {
        padding: 15px;
    }
    
    /* App Header */
    .app-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
    }
    
    .farmer-profile {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .farmer-avatar {
        width: 40px;
        height: 40px;
        background-color: rgba(13, 110, 253, 0.2);
        color: #0d6efd;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    .farmer-info h6 {
        margin: 0;
        font-size: 14px;
    }
    
    .farmer-location {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.6);
    }
    
    .app-actions {
        display: flex;
        gap: 10px;
    }
    
    .app-action-button {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        border: none;
        background-color: rgba(255, 255, 255, 0.1);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
    }
    
    .notification-badge {
        position: absolute;
        top: -5px;
        right: -5px;
        width: 18px;
        height: 18px;
        background-color: #dc3545;
        color: white;
        border-radius: 50%;
        font-size: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    /* Credit Score Card */
    .app-credit-score-card {
        background: linear-gradient(145deg, rgba(21, 101, 192, 0.3) 0%, rgba(12, 60, 115, 0.4) 100%);
        border-radius: 16px;
        padding: 15px;
        margin-bottom: 20px;
    }
    
    .score-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .score-header h6 {
        margin: 0;
        font-size: 14px;
    }
    
    .trend {
        font-size: 12px;
    }
    
    .trend.up {
        color: #20c997;
    }
    
    .trend.down {
        color: #dc3545;
    }
    
    .score-display {
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .score-circle {
        flex: 0 0 auto;
    }
    
    .score-details {
        flex: 1;
        text-align: center;
    }
    
    .score-label {
        font-size: 16px;
        font-weight: 500;
        color: #20c997;
        margin-bottom: 10px;
    }
    
    /* Quick Actions */
    .app-quick-actions {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 10px;
        margin-bottom: 20px;
    }
    
    .quick-action-button {
        background-color: rgba(255, 255, 255, 0.05);
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 10px;
        padding: 15px;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 10px;
        transition: all 0.2s ease;
    }
    
    .quick-action-button:hover {
        background-color: rgba(255, 255, 255, 0.1);
    }
    
    .action-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 5px;
        font-size: 18px;
    }
    
    .loans-icon {
        background-color: rgba(247, 127, 0, 0.2);
        color: #f77f00;
    }
    
    .farms-icon {
        background-color: rgba(76, 175, 80, 0.2);
        color: #4caf50;
    }
    
    .weather-icon {
        background-color: rgba(13, 202, 240, 0.2);
        color: #0dcaf0;
    }
    
    .markets-icon {
        background-color: rgba(233, 30, 99, 0.2);
        color: #e91e63;
    }
    
    /* App Sections */
    .app-section {
        margin-bottom: 20px;
    }
    
    .section-title {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
    }
    
    .section-title h6 {
        margin: 0;
        font-size: 14px;
    }
    
    .section-link {
        font-size: 12px;
        color: #0d6efd;
        text-decoration: none;
    }
    
    /* Loan Summary Card */
    .loan-summary-card {
        background-color: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        padding: 15px;
    }
    
    .loan-summary-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
    }
    
    .loan-info h6 {
        margin: 0;
        font-size: 14px;
    }
    
    .loan-id {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.6);
    }
    
    .loan-amount {
        font-size: 16px;
        font-weight: 500;
    }
    
    .loan-progress-container {
        margin: 15px 0;
    }
    
    .loan-progress-labels {
        display: flex;
        justify-content: space-between;
        font-size: 12px;
        color: rgba(255, 255, 255, 0.7);
        margin-top: 5px;
    }
    
    .loan-next-payment {
        background-color: rgba(255, 255, 255, 0.03);
        border-radius: 6px;
        padding: 10px;
        margin-bottom: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .payment-label {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.7);
    }
    
    .payment-details {
        text-align: right;
    }
    
    .payment-amount {
        font-size: 14px;
        font-weight: 500;
    }
    
    .payment-date {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.6);
    }
    
    /* Weather Alert Card */
    .weather-alert-card {
        background-color: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
        padding: 15px;
        border-left: 4px solid #dc3545;
    }
    
    .alert-priority {
        display: inline-block;
        padding: 4px 10px;
        border-radius: 20px;
        font-size: 12px;
        margin-bottom: 10px;
    }
    
    .alert-priority.high {
        background-color: rgba(220, 53, 69, 0.2);
        color: #dc3545;
    }
    
    .alert-content h6 {
        margin: 0 0 10px 0;
        font-size: 14px;
    }
    
    .alert-content p {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 15px;
    }
    
    /* App Buttons */
    .app-button {
        background-color: #0d6efd;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 10px 20px;
        font-size: 14px;
        transition: all 0.2s ease;
    }
    
    .app-button:hover {
        background-color: #0b5ed7;
    }
    
    .app-button.outline {
        background-color: transparent;
        border: 1px solid #0d6efd;
        color: #0d6efd;
    }
    
    .app-button.outline:hover {
        background-color: rgba(13, 110, 253, 0.1);
    }
    
    .app-button.small {
        padding: 5px 10px;
        font-size: 12px;
    }
    
    .app-button.full-width {
        width: 100%;
        display: block;
    }
    
    /* App Navigation */
    .app-navigation {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        display: flex;
        justify-content: space-between;
        background-color: rgba(30, 33, 43, 0.9);
        padding: 10px;
        border-top: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    .nav-button {
        background: none;
        border: none;
        color: rgba(255, 255, 255, 0.6);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 5px;
        font-size: 12px;
        padding: 8px;
        border-radius: 8px;
        transition: all 0.2s ease;
    }
    
    .nav-button.active {
        color: white;
        background-color: rgba(255, 255, 255, 0.1);
    }
    
    .nav-button i {
        font-size: 16px;
    }
    
    /* Weather Screen */
    .back-button {
        background: none;
        border: none;
        color: white;
        font-size: 16px;
    }
    
    .screen-title {
        margin: 0;
        font-size: 16px;
    }
    
    .weather-overview {
        background: linear-gradient(145deg, rgba(13, 202, 240, 0.3) 0%, rgba(13, 110, 253, 0.3) 100%);
        border-radius: 16px;
        padding: 20px;
        margin-bottom: 20px;
        text-align: center;
    }
    
    .current-weather {
        margin-bottom: 20px;
    }
    
    .weather-icon {
        font-size: 40px;
        margin-bottom: 10px;
        color: #ffc107;
    }
    
    .weather-temp {
        font-size: 36px;
        font-weight: 500;
    }
    
    .weather-desc {
        font-size: 16px;
        margin-bottom: 5px;
    }
    
    .weather-location {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.7);
    }
    
    .weather-details {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
    }
    
    .weather-detail-item {
        background-color: rgba(255, 255, 255, 0.1);
        border-radius: 8px;
        padding: 10px;
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .detail-label {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 5px;
    }
    
    .detail-value {
        font-size: 14px;
        font-weight: 500;
    }
    
    /* Weather Forecast */
    .weather-forecast {
        background-color: rgba(255, 255, 255, 0.03);
        border-radius: 16px;
        padding: 15px;
        margin-bottom: 20px;
    }
    
    .forecast-header {
        margin-bottom: 15px;
    }
    
    .forecast-header h6 {
        margin: 0;
        font-size: 14px;
    }
    
    .forecast-days {
        display: flex;
        overflow-x: auto;
        gap: 15px;
        padding-bottom: 5px;
    }
    
    .forecast-days::-webkit-scrollbar {
        height: 5px;
    }
    
    .forecast-days::-webkit-scrollbar-track {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 10px;
    }
    
    .forecast-days::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.2);
        border-radius: 10px;
    }
    
    .forecast-day {
        display: flex;
        flex-direction: column;
        align-items: center;
        min-width: 50px;
        padding: 10px 5px;
        border-radius: 8px;
        background-color: rgba(255, 255, 255, 0.03);
    }
    
    .day-name {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 5px;
    }
    
    .day-icon {
        font-size: 16px;
        margin-bottom: 5px;
        color: #ffc107;
    }
    
    .day-temp {
        font-size: 14px;
        font-weight: 500;
    }
    
    /* Climate Risk Summary */
    .climate-risk-summary {
        background-color: rgba(255, 255, 255, 0.03);
        border-radius: 16px;
        padding: 15px;
        margin-bottom: 70px; /* Space for nav bar */
    }
    
    .climate-risk-header {
        margin-bottom: 15px;
    }
    
    .climate-risk-header h6 {
        margin: 0;
        font-size: 14px;
    }
    
    .risk-indicator {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 15px;
        padding: 10px;
        border-radius: 8px;
    }
    
    .risk-indicator.medium {
        background-color: rgba(255, 193, 7, 0.1);
    }
    
    .risk-icon {
        color: #ffc107;
        font-size: 24px;
    }
    
    .risk-details {
        display: flex;
        flex-direction: column;
    }
    
    .risk-level {
        font-size: 14px;
        font-weight: 500;
    }
    
    .risk-desc {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.7);
    }
    
    .risk-explanation {
        font-size: 12px;
        color: rgba(255, 255, 255, 0.7);
        margin-bottom: 15px;
    }
</style>
{% endblock %}

{% block extra_js %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize tooltips
        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
            return new bootstrap.Tooltip(tooltipTriggerEl)
        });
        
        // QR Code Modal
        const qrCodeButton = document.getElementById('qrCodeButton');
        if (qrCodeButton) {
            qrCodeButton.addEventListener('click', function() {
                const qrModal = new bootstrap.Modal(document.getElementById('qrCodeModal'));
                qrModal.show();
            });
        }
        
        // Device Switcher
        const deviceButtons = document.querySelectorAll('.device-switcher button');
        const deviceFrame = document.querySelector('.device-frame');
        
        deviceButtons.forEach(button => {
            button.addEventListener('click', function() {
                // Remove active class from all buttons
                deviceButtons.forEach(btn => btn.classList.remove('active'));
                
                // Add active class to clicked button
                this.classList.add('active');
                
                // Switch device frame
                const deviceType = this.getAttribute('data-device');
                deviceFrame.className = `device-frame ${deviceType}`;
            });
        });
        
        // Mobile App Navigation
        const viewWeatherBtn = document.getElementById('view-weather-btn');
        const weatherBackBtn = document.getElementById('weather-back-btn');
        const homeNavBtn = document.getElementById('home-nav-btn');
        
        if (viewWeatherBtn) {
            viewWeatherBtn.addEventListener('click', function() {
                document.getElementById('app-home-screen').style.display = 'none';
                document.getElementById('app-weather-screen').style.display = 'block';
            });
        }
        
        if (weatherBackBtn) {
            weatherBackBtn.addEventListener('click', function() {
                document.getElementById('app-weather-screen').style.display = 'none';
                document.getElementById('app-home-screen').style.display = 'block';
            });
        }
        
        if (homeNavBtn) {
            homeNavBtn.addEventListener('click', function() {
                document.getElementById('app-weather-screen').style.display = 'none';
                document.getElementById('app-home-screen').style.display = 'block';
            });
        }
        
        // View Loans Button
        const viewLoansBtn = document.getElementById('view-loans-btn');
        if (viewLoansBtn) {
            viewLoansBtn.addEventListener('click', function() {
                alert('Loans screen would display here in the full application');
            });
        }
        
        // View Farms Button
        const viewFarmsBtn = document.getElementById('view-farms-btn');
        if (viewFarmsBtn) {
            viewFarmsBtn.addEventListener('click', function() {
                alert('Farms screen would display here in the full application');
            });
        }
        
        // View Markets Button
        const viewMarketsBtn = document.getElementById('view-markets-btn');
        if (viewMarketsBtn) {
            viewMarketsBtn.addEventListener('click', function() {
                alert('Markets screen would display here in the full application');
            });
        }
    });
</script>
{% endblock %}